"use strict";function chatMessageSend(){document.getElementById("message").addEventListener("submit",function(e){return e.preventDefault(),document.getElementById("m").value&&(config.socket.emit("chat:message:send",{text:document.getElementById("m").value,time:(new Date).getTime(),user:config.user}),document.getElementById("m").value=""),!1}),config.socket.on("chat:message:send",function(e){var t=document.getElementById("sent-messages");t.querySelector('.typing[data-user="'+e.user+'"]')&&t.querySelector('.typing[data-user="'+e.user+'"]').remove();var n=helpers.append("li",e.text,t);n.setAttribute("data-timestamp",e.time),n.setAttribute("data-user",e.user),config.isCurrentUser(e.user)&&n.classList.add("current-user"),t.scrollTop=t.scrollHeight})}function chatMessageTyping(){document.getElementById("m").addEventListener("input",function(e){return e.preventDefault(),e.target.value&&config.socket.emit("chat:message:typing",{time:(new Date).getTime(),user:config.user}),!1}),config.socket.on("chat:message:typing",function(e){var t=document.getElementById("sent-messages");if(!t.querySelector('.typing[data-user="'+e.user+'"]')){var n=helpers.append("li","",t);n.setAttribute("data-timestamp",e.time),n.setAttribute("data-user",e.user),n.classList.add("typing"),config.isCurrentUser(e.user)&&n.classList.add("current-user"),t.scrollTop=t.scrollHeight}})}function cardsSelected(){document.querySelectorAll(".game .cards a").forEach(function(e){e.addEventListener("click",function(e){return e.preventDefault(),config.socket.emit("cards:selected",{text:e.target.textContent,time:(new Date).getTime(),user:config.user}),!1})}),config.socket.on("cards:selected",function(e){var t=helpers.append("li",e.text,document.getElementById("selected-cards"));t.setAttribute("data-timestamp",e.time),t.setAttribute("data-user",e.user),config.isCurrentUser(e.user)&&t.classList.add("current-user")})}var helpers={};helpers.append=function(e,t,n){var s=document.createElement(e);return s.appendChild(document.createTextNode(t)),n.appendChild(s)};var config={socket:io(),user:Math.random(),setupTime:(new Date).getTime(),isCurrentUser:function(e){return e+this.setupTime.toString()===this.user+this.setupTime.toString()}};document.getElementById("username-input").addEventListener("submit",function(e){return e.preventDefault(),document.getElementById("username").value&&(config.user=document.getElementById("username").value,document.querySelector(".intro-screen").classList.add("inactive"),setTimeout(function(){document.querySelector(".intro-screen").remove(),document.querySelector(".cah-screen").classList.remove("inactive"),setTimeout(function(){cardsSelected(),chatMessageSend(),chatMessageTyping()})},310)),!1});
//# sourceMappingURL=master.js.map
