{"version":3,"sources":["src/js/dependencies/helper.js","src/js/chat/message/send.js","src/js/chat/message/typing.js","src/js/cards/selected.js","src/js/dependencies/app.js","src/js/client.js"],"names":["chatMessageSend","document","getElementById","addEventListener","e","preventDefault","value","app","socket","emit","text","time","Date","getTime","user","on","message","messages","querySelector","remove","el","helpers","append","setAttribute","isCurrentUser","classList","add","scrollTop","scrollHeight","chatMessageTyping","target","cardSelected","querySelectorAll","forEach","link","textContent","selected","tag","appendTo","createElement","appendChild","createTextNode","io","Math","random","setupTime","toString","setTimeout"],"mappings":"AAAA,YCEA,SAAAA,mBACAC,SAAAC,eAAA,WAAAC,iBAAA,SAAA,SAAAC,GAaA,MAZAA,GAAAC,iBAEAJ,SAAAC,eAAA,KAAAI,QACAC,IAAAC,OAAAC,KAAA,qBACAC,KAAAT,SAAAC,eAAA,KAAAI,MACAK,MAAA,GAAAC,OAAAC,UACAC,KAAAP,IAAAO,OAGAb,SAAAC,eAAA,KAAAI,MAAA,KAGA,IAGAC,IAAAC,OAAAO,GAAA,oBAAA,SAAAC,GACA,GAAAC,GAAAhB,SAAAC,eAAA,gBAEAe,GAAAC,cAAA,sBAAAF,EAAAF,KAAA,OACAG,EAAAC,cAAA,sBAAAF,EAAAF,KAAA,MAAAK,QAGA,IAAAC,GAAAC,QAAAC,OAAA,KAAAN,EAAAN,KAAAO,EAEAG,GAAAG,aAAA,iBAAAP,EAAAL,MACAS,EAAAG,aAAA,YAAAP,EAAAF,MAEAP,IAAAiB,cAAAR,EAAAF,OACAM,EAAAK,UAAAC,IAAA,gBAGAT,EAAAU,UAAAV,EAAAW,eCjCA,QAAAC,qBACA5B,SAAAC,eAAA,KAAAC,iBAAA,QAAA,SAAAC,GAUA,MATAA,GAAAC,iBAEAD,EAAA0B,OAAAxB,OACAC,IAAAC,OAAAC,KAAA,uBACAE,MAAA,GAAAC,OAAAC,UACAC,KAAAP,IAAAO,QAIA,IAGAP,IAAAC,OAAAO,GAAA,sBAAA,SAAAC,GACA,GAAAC,GAAAhB,SAAAC,eAAA,gBAEA,KAAAe,EAAAC,cAAA,sBAAAF,EAAAF,KAAA,MAAA,CACA,GAAAM,GAAAC,QAAAC,OAAA,KAAA,GAAAL,EAEAG,GAAAG,aAAA,iBAAAP,EAAAL,MACAS,EAAAG,aAAA,YAAAP,EAAAF,MAEAM,EAAAK,UAAAC,IAAA,UAEAnB,IAAAiB,cAAAR,EAAAF,OACAM,EAAAK,UAAAC,IAAA,gBAGAT,EAAAU,UAAAV,EAAAW,gBC7BA,QAAAG,gBACA9B,SAAA+B,iBAAA,kBAAAC,QAAA,SAAAC,GACAA,EAAA/B,iBAAA,QAAA,SAAAC,GASA,MARAA,GAAAC,iBAEAE,IAAAC,OAAAC,KAAA,kBACAC,KAAAN,EAAA0B,OAAAK,YACAxB,MAAA,GAAAC,OAAAC,UACAC,KAAAP,IAAAO,QAGA,MAIAP,IAAAC,OAAAO,GAAA,iBAAA,SAAAqB,GACA,GAAAhB,GAAAC,QAAAC,OAAA,KAAAc,EAAA1B,KAAAT,SAAAC,eAAA,kBAEAkB,GAAAG,aAAA,iBAAAa,EAAAzB,MACAS,EAAAG,aAAA,YAAAa,EAAAtB,MAEAP,IAAAiB,cAAAY,EAAAtB,OACAM,EAAAK,UAAAC,IAAA,kBHtBA,GAAAL,WAEAA,SAAAC,OAAA,SAAAe,EAAA3B,EAAA4B,GACA,GAAAlB,GAAAnB,SAAAsC,cAAAF,EAEA,OADAjB,GAAAoB,YAAAvC,SAAAwC,eAAA/B,IACA4B,EAAAE,YAAApB,GILA,IAAAb,MACAC,OAAAkC,KACA5B,KAAA6B,KAAAC,SACAC,WAAA,GAAAjC,OAAAC,UACAW,cAAA,SAAAV,GACA,MAAAA,GAAAP,IAAAsC,UAAAC,aAAAvC,IAAAO,KAAAP,IAAAsC,UAAAC,YCLA7C,UAAAC,eAAA,kBAAAC,iBAAA,SAAA,SAAAC,GAmBA,MAlBAA,GAAAC,iBAEAJ,SAAAC,eAAA,YAAAI,QACAC,IAAAO,KAAAb,SAAAC,eAAA,YAAAI,MACAL,SAAAiB,cAAA,iBAAAO,UAAAC,IAAA,YAEAqB,WAAA,WACA9C,SAAAiB,cAAA,iBAAAC,SACAlB,SAAAiB,cAAA,eAAAO,UAAAN,OAAA,YAEA4B,WAAA,WACAhB,eACA/B,kBACA6B,uBAEA,OAGA","file":"master.js","sourcesContent":["\"use strict\";\n\nvar helpers = {};\n\nhelpers.append = function (tag, text, appendTo) {\n    var el = document.createElement(tag);\n    el.appendChild(document.createTextNode(text));\n    return appendTo.appendChild(el);\n};","'use strict';\n\nfunction chatMessageSend() {\n    document.getElementById('message').addEventListener('submit', function (e) {\n        e.preventDefault();\n\n        if (document.getElementById('m').value) {\n            app.socket.emit('chat:message:send', {\n                text: document.getElementById('m').value,\n                time: new Date().getTime(),\n                user: app.user\n            });\n\n            document.getElementById('m').value = '';\n        }\n\n        return false;\n    });\n\n    app.socket.on('chat:message:send', function (message) {\n        var messages = document.getElementById('sent-messages');\n\n        if (messages.querySelector('.typing[data-user=\"' + message.user + '\"]')) {\n            messages.querySelector('.typing[data-user=\"' + message.user + '\"]').remove();\n        }\n\n        var el = helpers.append('li', message.text, messages);\n\n        el.setAttribute('data-timestamp', message.time);\n        el.setAttribute('data-user', message.user);\n\n        if (app.isCurrentUser(message.user)) {\n            el.classList.add('current-user');\n        }\n\n        messages.scrollTop = messages.scrollHeight;\n    });\n}","'use strict';\n\nfunction chatMessageTyping() {\n    document.getElementById('m').addEventListener('input', function (e) {\n        e.preventDefault();\n\n        if (e.target.value) {\n            app.socket.emit('chat:message:typing', {\n                time: new Date().getTime(),\n                user: app.user\n            });\n        }\n\n        return false;\n    });\n\n    app.socket.on('chat:message:typing', function (message) {\n        var messages = document.getElementById('sent-messages');\n\n        if (!messages.querySelector('.typing[data-user=\"' + message.user + '\"]')) {\n            var el = helpers.append('li', '', messages);\n\n            el.setAttribute('data-timestamp', message.time);\n            el.setAttribute('data-user', message.user);\n\n            el.classList.add('typing');\n\n            if (app.isCurrentUser(message.user)) {\n                el.classList.add('current-user');\n            }\n\n            messages.scrollTop = messages.scrollHeight;\n        }\n    });\n}","'use strict';\n\nfunction cardSelected() {\n    document.querySelectorAll('.game .cards a').forEach(function (link) {\n        link.addEventListener('click', function (e) {\n            e.preventDefault();\n\n            app.socket.emit('cards:selected', {\n                text: e.target.textContent,\n                time: new Date().getTime(),\n                user: app.user\n            });\n\n            return false;\n        });\n    });\n\n    app.socket.on('cards:selected', function (selected) {\n        var el = helpers.append('li', selected.text, document.getElementById('selected-cards'));\n\n        el.setAttribute('data-timestamp', selected.time);\n        el.setAttribute('data-user', selected.user);\n\n        if (app.isCurrentUser(selected.user)) {\n            el.classList.add('current-user');\n        }\n    });\n}","\"use strict\";\n\nvar app = {\n    socket: io(),\n    user: Math.random(), // Replace with actual username\n    setupTime: new Date().getTime(),\n    isCurrentUser: function isCurrentUser(user) {\n        return user + app.setupTime.toString() === app.user + app.setupTime.toString();\n    }\n};","'use strict';\n\ndocument.getElementById('username-input').addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    if (document.getElementById('username').value) {\n        app.user = document.getElementById('username').value;\n        document.querySelector('.intro-screen').classList.add('inactive');\n\n        setTimeout(function () {\n            document.querySelector('.intro-screen').remove();\n            document.querySelector('.cah-screen').classList.remove('inactive');\n\n            setTimeout(function () {\n                cardSelected();\n                chatMessageSend();\n                chatMessageTyping();\n            });\n        }, 310);\n    }\n\n    return false;\n});"]}